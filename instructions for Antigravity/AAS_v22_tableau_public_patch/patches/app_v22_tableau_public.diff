--- web/app.js (v21)
+++ web/app.js (v22)
@@ -1,5 +1,55 @@
 const API_BASE = 'http://127.0.0.1:8000';
 
+// ===== Tableau Demo Stability Config =====
+// URL param toggle:
+//   ?tableau=public   (default, judge-proof)
+//   ?tableau=cloud    (uses API /tableau/views)
+const TABLEAU_MODE = new URLSearchParams(window.location.search).get('tableau') || 'public';
+
+// Put YOUR Tableau Public embed URL here (recommended).
+// Format example:
+// https://public.tableau.com/views/WORKBOOK/SHEET?:showVizHome=no&:embed=true
+const TABLEAU_PUBLIC_DEFAULT_URL =
+  "https://public.tableau.com/views/Superstore_24/Overview?:showVizHome=no&:embed=true";
+
+// Optional: map preferredName -> specific Tableau Public sheet
+const TABLEAU_PUBLIC_VIEWS = {
+  overview: TABLEAU_PUBLIC_DEFAULT_URL,
+  // pipeline: "https://public.tableau.com/views/YourWorkbook/Pipeline?:showVizHome=no&:embed=true",
+  // risk:     "https://public.tableau.com/views/YourWorkbook/Risk?:showVizHome=no&:embed=true",
+};
+
+function isTableauCloudUrl(url = "") {
+  return /online\.tableau\.com/i.test(url);
+}
+
+function resolvePublicUrl(preferredName = "") {
+  if (!preferredName) return TABLEAU_PUBLIC_DEFAULT_URL;
+  const key = preferredName.toLowerCase().trim();
+  return TABLEAU_PUBLIC_VIEWS[key] || TABLEAU_PUBLIC_DEFAULT_URL;
+}
+
+function renderViz(vizContainer, url, linkLabel = "Open dashboard") {
+  vizContainer.innerHTML = `
+    <div style="height:100%; display:flex; flex-direction:column;">
+      <div style="flex:1; border-radius:12px; overflow:hidden;">
+        <iframe
+          src="${url}"
+          style="width:100%; height:100%; border:none;"
+          allowfullscreen
+          loading="lazy"
+          title="Tableau Dashboard"
+        ></iframe>
+      </div>
+      <div style="padding:10px 0; text-align:right;">
+        <a href="${url}" target="_blank" rel="noopener noreferrer"
+           style="text-decoration:none; display:inline-block; padding:8px 12px; border:1px solid rgba(255,255,255,0.15); border-radius:10px;">
+          ${linkLabel}
+        </a>
+      </div>
+    </div>
+  `;
+}
 // State
 let pendingActions = [];
 let runMetadata = null;
@@ -60,6 +110,15 @@
 async function loadTableauView(preferredName = null) {
     const vizContainer = document.getElementById('tableau-viz');
 
+    // JUDGE-PROOF PATH (default): always use Tableau Public
+    if (TABLEAU_MODE === 'public') {
+        const publicUrl = resolvePublicUrl(preferredName || "overview");
+        renderViz(vizContainer, publicUrl, "Open Tableau (Public)");
+        console.log(`Loaded Tableau Public view (mode=public): ${preferredName || "overview"}`);
+        return;
+    }
+
+    // DEV PATH: try API -> /tableau/views (auto-fallback if Cloud URL would be iframed)
     try {
         const res = await fetch(`${API_BASE}/tableau/views`);
         const data = await res.json();
@@ -69,28 +128,54 @@
             if (preferredName) {
                 view = data.views.find(v => v.name.toLowerCase().includes(preferredName.toLowerCase())) || view;
             }
-            vizContainer.innerHTML = `<iframe src="${view.embed_url}" style="width:100%; height:100%; border:none;" allowfullscreen></iframe>`;
-            console.log(`Loaded Tableau view: ${view.name}`);
+
+            // If the API hands us a Tableau Cloud URL, do NOT iframe it. Fallback to Public.
+            if (isTableauCloudUrl(view.embed_url)) {
+                const publicUrl = resolvePublicUrl(preferredName || view.name || "overview");
+                renderViz(vizContainer, publicUrl, "Open Tableau (Public)");
+                console.warn(`Blocked Cloud iframe detected. Falling back to Public for: ${view.name}`);
+                return;
+            }
+
+            renderViz(vizContainer, view.embed_url, "Open Tableau");
+            console.log(`Loaded Tableau view (mode=cloud): ${view.name}`);
         } else {
-            // Demo Fallback (Tableau Public - Superstore is the most stable sample)
-            const demoUrl = "https://public.tableau.com/views/Superstore_24/Overview?:showVizHome=no&:embed=true";
-            vizContainer.innerHTML = `<iframe src="${demoUrl}" style="width:100%; height:100%; border:none;" allowfullscreen></iframe>`;
-            console.warn('Tableau not configured. Loading Superstore demo view.');
+            const publicUrl = resolvePublicUrl(preferredName || "overview");
+            renderViz(vizContainer, publicUrl, "Open Tableau (Public)");
+            console.warn('Tableau not configured. Falling back to Public.');
         }
     } catch (e) {
-        console.error('Failed to load Tableau views:', e);
-        vizContainer.innerHTML = '<div class="error-state">Failed to connect to Tableau Service.</div>';
-    }
-}
-
-function loadSpecificView(url) {
+        const publicUrl = resolvePublicUrl(preferredName || "overview");
+        renderViz(vizContainer, publicUrl, "Open Tableau (Public)");
+        console.error('Failed to load Tableau views from API. Falling back to Public.', e);
+    }
+}
+
+
+function loadSpecificView(url, preferredName = "") {
+    const vizContainer = document.getElementById('tableau-viz');
+
+    // Judge-proof: ignore the passed URL and load the mapped Public view
+    if (TABLEAU_MODE === 'public') {
+        const publicUrl = resolvePublicUrl(preferredName || "overview");
+        renderViz(vizContainer, publicUrl, "Open Tableau (Public)");
+        return;
+    }
+
+    // Dev mode: if it's Cloud, don't iframe it (open in new tab)
+    if (isTableauCloudUrl(url)) {
+        window.open(url, "_blank", "noopener,noreferrer");
+        return;
+    }
+
     if (!url) {
         alert("No specific view context available for this action.");
         return;
     }
-    const vizContainer = document.getElementById('tableau-viz');
-    vizContainer.innerHTML = `<iframe src="${url}" style="width:100%; height:100%; border:none;" allowfullscreen></iframe>`;
-}
+
+    renderViz(vizContainer, url, "Open Tableau");
+}
+
 
 function renderActions(actions) {
     pendingActions = actions;
@@ -114,7 +199,7 @@
       <div class="action-type ${typeClass}">${typeLabel}</div>
       <div class="action-title">${action.title || 'New Action'}</div>
       <div class="action-desc">${action.description}</div>
-      <div class="action-context" style="font-size: 0.7rem; color: var(--accent-primary); margin-top: 0.5rem; display: flex; align-items: center; gap: 0.25rem; cursor: pointer;" onclick="loadSpecificView('${action.metadata?.embed_url || ''}')">
+      <div class="action-context" style="font-size: 0.7rem; color: var(--accent-primary); margin-top: 0.5rem; display: flex; align-items: center; gap: 0.25rem; cursor: pointer;" onclick="loadSpecificView('${action.metadata?.embed_url || ''}', decodeURIComponent('${encodeURIComponent(action.metadata?.view_name || '')}'))">
         <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
         View context in Tableau
       </div>